# ==================== 基础设置 ====================
backend = "glx";
experimental-backends = true;
vsync = true;
double-buffering = true;

# ==================== 透明度效果 ====================
opacity-rule = [
    "80:class_g = 'Emacs'",
    "90:class_g = 'kitty'",
    "95:class_g = 'firefox'",
    "100:class_g = 'i3'",
    "50:class_g = 'Polybar'"
];

# ==================== 阴影效果 ====================
shadow = true;
shadow-radius = 12;
shadow-opacity = 0.25;
shadow-offset-x = -8;
shadow-offset-y = -8;

shadow-exclude = [
    "class_g = 'polybar'",
    "class_g = 'i3'",
    "class_g = 'conky'",
    "name = 'Notification'",
    "name *= 'i3bar'"
];

# ==================== 圆角效果 ====================
corner-radius = 8;

rounded-corners-exclude = [
    "window_type = 'dock'",
    "class_g = 'polybar'",
    "class_g = 'i3'",
    "class_g = 'conky'"
];

# ==================== 模糊效果 (v9新语法) ====================
# 启用模糊
# blur-method = "dual_kawase";
# blur-size = 12;
# blur-deviation = 5.0;
# blur-strength = 6;

# # 排除模糊的窗口
blur-exclude = [
    "class_g = 'polybar'",
    "window_type = 'dock'",
    "window_type = 'tooltip'"
];

# ==================== 淡入淡出动画 ====================
fading = true;
fade-delta = 5;
fade-in-step = 0.03;
fade-out-step = 0.03;
no-fading-openclose = false;

# ==================== 窗口类型排除 (v9新语法) ====================
# 注意：v9 中部分 wintypes 设置可能需要用其他方式实现
# 工具提示设置
detect-client-opacity = true;